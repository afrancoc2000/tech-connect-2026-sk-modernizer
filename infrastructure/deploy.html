<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Apps Modernizer - Deploy to Azure</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            width: 100%;
            padding: 50px 40px;
            animation: slideIn 0.6s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .logo {
            font-size: 48px;
            margin-bottom: 20px;
        }

        h1 {
            color: #333;
            font-size: 28px;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 16px;
            margin-bottom: 20px;
        }

        .description {
            color: #555;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 30px;
            text-align: left;
        }

        .features {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 35px;
        }

        .feature {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #555;
            font-size: 14px;
        }

        .feature-icon {
            font-size: 20px;
            color: #667eea;
        }

        .configuration {
            background: #f5f5f5;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .config-title {
            color: #333;
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 14px;
        }

        .input-group {
            margin-bottom: 12px;
        }

        .input-group label {
            display: block;
            color: #555;
            font-size: 13px;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .input-group input,
        .input-group select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 13px;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .deployment-button {
            width: 100%;
            padding: 14px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            margin-bottom: 15px;
        }

        .deployment-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .deployment-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 10px rgba(102, 126, 234, 0.2);
        }

        .deployment-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .documentation-link {
            display: block;
            text-align: center;
            color: #667eea;
            text-decoration: none;
            font-size: 14px;
            margin-bottom: 10px;
            transition: color 0.3s;
        }

        .documentation-link:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        .info-box {
            background: #e8f4f8;
            border-left: 4px solid #667eea;
            padding: 15px;
            border-radius: 4px;
            font-size: 13px;
            color: #444;
            margin-bottom: 20px;
        }

        .info-box strong {
            color: #333;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 4px;
            font-size: 13px;
            color: #856404;
            margin-bottom: 20px;
        }

        .deployment-status {
            display: none;
            background: #f5f5f5;
            padding: 15px;
            border-radius: 6px;
            margin-top: 20px;
            font-size: 13px;
        }

        .deployment-status.show {
            display: block;
        }

        .status-loading {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #667eea;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 0.6s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .footer {
            text-align: center;
            color: #999;
            font-size: 12px;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .preset-configs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }

        .preset-btn {
            padding: 10px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s;
            text-align: center;
            font-weight: 500;
            color: #555;
        }

        .preset-btn:hover {
            border-color: #667eea;
            background: #f9f9f9;
            color: #667eea;
        }

        .preset-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .resources-list {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }

        .resources-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .resources-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            font-size: 13px;
            color: #555;
        }

        .resource-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            background: white;
            border-radius: 4px;
            border-left: 3px solid #667eea;
        }

        .resource-icon {
            font-size: 16px;
        }

        @media (max-width: 600px) {
            .container {
                padding: 30px 20px;
            }

            h1 {
                font-size: 24px;
            }

            .features {
                grid-template-columns: 1fr;
            }

            .preset-configs {
                grid-template-columns: 1fr;
            }

            .resources-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">üöÄ</div>
            <h1>AI Apps Modernizer</h1>
            <p class="subtitle">Deploy to Azure</p>
            <p class="description">
                Deploy the complete infrastructure for the AI Agent Code Modernizer application.
                This includes VNet, Azure AI Foundry, API Management, Container Registry, and more.
            </p>
        </div>

        <div class="resources-list">
            <div class="resources-title">üì¶ Resources Deployed</div>
            <div class="resources-grid">
                <div class="resource-item">
                    <span class="resource-icon">üåê</span>
                    <span>Virtual Network (VNet)</span>
                </div>
                <div class="resource-item">
                    <span class="resource-icon">ü§ñ</span>
                    <span>Azure AI Foundry</span>
                </div>
                <div class="resource-item">
                    <span class="resource-icon">‚öôÔ∏è</span>
                    <span>API Management (APIM)</span>
                </div>
                <div class="resource-item">
                    <span class="resource-icon">üê≥</span>
                    <span>Container Registry</span>
                </div>
                <div class="resource-item">
                    <span class="resource-icon">üì¶</span>
                    <span>Container Instances</span>
                </div>
                <div class="resource-item">
                    <span class="resource-icon">üîê</span>
                    <span>Key Vault</span>
                </div>
                <div class="resource-item">
                    <span class="resource-icon">üìä</span>
                    <span>Log Analytics</span>
                </div>
                <div class="resource-item">
                    <span class="resource-icon">üìà</span>
                    <span>Application Insights</span>
                </div>
            </div>
        </div>

        <div class="info-box">
            <strong>‚ÑπÔ∏è POC Configuration:</strong> This deployment is pre-configured for POC/Development with best practices. You can customize parameters below.
        </div>

        <div class="warning-box">
            <strong>‚ö†Ô∏è Note:</strong> Ensure your Azure subscription has sufficient quota for the resources being deployed. This POC uses cost-optimized resources suitable for development.
        </div>

        <div class="configuration">
            <div class="config-title">‚öôÔ∏è Deployment Configuration</div>

            <div style="margin-bottom: 15px;">
                <div class="config-title">Quick Presets</div>
                <div class="preset-configs">
                    <button class="preset-btn active" onclick="loadPreset('poc')">POC/Dev</button>
                    <button class="preset-btn" onclick="loadPreset('staging')">Staging</button>
                </div>
            </div>

            <div class="input-group">
                <label for="projectName">Project Name (max 11 chars)</label>
                <input type="text" id="projectName" value="aiappsmod" maxlength="11" pattern="^[a-z][a-z0-9]*$">
            </div>

            <div class="input-group">
                <label for="environment">Environment</label>
                <select id="environment">
                    <option value="poc" selected>POC</option>
                    <option value="dev">Development</option>
                    <option value="staging">Staging</option>
                    <option value="prod">Production</option>
                </select>
            </div>

            <div class="input-group">
                <label for="location">Azure Region</label>
                <select id="location">
                    <option value="eastus" selected>East US</option>
                    <option value="westus2">West US 2</option>
                    <option value="northeurope">North Europe</option>
                    <option value="westeurope">West Europe</option>
                    <option value="southeastasia">Southeast Asia</option>
                </select>
            </div>

            <div class="input-group">
                <label for="containerInstances">Container Instances</label>
                <select id="containerInstances">
                    <option value="1">1</option>
                    <option value="2" selected>2</option>
                    <option value="3">3</option>
                    <option value="5">5</option>
                </select>
            </div>

            <div class="input-group">
                <label for="apiSku">API Management SKU</label>
                <select id="apiSku">
                    <option value="Developer" selected>Developer (Best for POC)</option>
                    <option value="Standard">Standard</option>
                </select>
            </div>

            <div class="input-group">
                <label for="containerImage">Container Image URI (optional)</label>
                <input type="text" id="containerImage" placeholder="myacr.azurecr.io/ai-modernizer:latest">
            </div>
        </div>

        <button class="deployment-button" onclick="deployToAzure()">
            ‚òÅÔ∏è Deploy to Azure
        </button>

        <a href="https://github.com/afrancoc2000/tech-connect-2026-sk-modernizer" class="documentation-link">
            üìö View Source Repository ‚Üí
        </a>

        <a href="https://docs.microsoft.com/azure/azure-resource-manager/templates/overview" class="documentation-link">
            üìñ Learn about ARM Templates ‚Üí
        </a>

        <div class="deployment-status" id="deploymentStatus">
            <div class="status-loading">
                <span class="spinner"></span>
                <span id="statusText">Redirecting to Azure Portal...</span>
            </div>
        </div>

        <div class="footer">
            <p>üîí All deployments are created in your Azure subscription under your control.</p>
            <p>Last updated: February 2026 | Version 1.0.0</p>
        </div>
    </div>

    <script>
        function loadPreset(preset) {
            // Update button states
            document.querySelectorAll('.preset-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            if (preset === 'poc') {
                document.getElementById('environment').value = 'poc';
                document.getElementById('containerInstances').value = '2';
                document.getElementById('apiSku').value = 'Developer';
            } else if (preset === 'staging') {
                document.getElementById('environment').value = 'staging';
                document.getElementById('containerInstances').value = '3';
                document.getElementById('apiSku').value = 'Standard';
            }
        }

        function deployToAzure() {
            // Get form values
            const projectName = document.getElementById('projectName').value;
            const environment = document.getElementById('environment').value;
            const location = document.getElementById('location').value;
            const containerInstances = document.getElementById('containerInstances').value;
            const apiSku = document.getElementById('apiSku').value;
            const containerImage = document.getElementById('containerImage').value;

            // Validate inputs
            if (!projectName || projectName.length < 3 || projectName.length > 11) {
                alert('Project name must be between 3 and 11 characters');
                return;
            }

            // Build the parameters for the template
            const parameters = {
                "projectName": { "value": projectName },
                "environment": { "value": environment },
                "location": { "value": location },
                "containerInstances": { "value": parseInt(containerInstances) },
                "apiManagementSku": { "value": apiSku },
                "containerImageUri": { "value": containerImage }
            };

            // Encode the parameters
            const parametersJson = Buffer.btoa(JSON.stringify(parameters));

            // Build the Deploy to Azure URL
            const templateUri = 'https://raw.githubusercontent.com/afrancoc2000/tech-connect-2026-sk-modernizer/main/infrastructure/template.json';
            const deployToAzureUrl = `https://portal.azure.com/#create/Microsoft.Template/uri/${encodeURIComponent(templateUri)}`;

            // Show status
            const statusDiv = document.getElementById('deploymentStatus');
            statusDiv.classList.add('show');

            // Redirect to Azure Portal
            setTimeout(() => {
                window.open(deployToAzureUrl, '_blank');
            }, 1000);
        }

        // Event listeners for form updates
        document.getElementById('environment').addEventListener('change', function() {
            // Reset preset buttons
            document.querySelectorAll('.preset-btn').forEach(btn => btn.classList.remove('active'));
        });
    </script>
</body>
</html>

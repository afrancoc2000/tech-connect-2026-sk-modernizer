# GEMINI.md — AI Agent Code Modernizer

Instructions for Gemini when working within this repository.

## Repository Purpose

This repository contains the **AI Agent Code Modernizer** — an MCP-exposed AI agent that analyzes code written with **Semantic Kernel** or **AutoGen** and modernizes it to **Microsoft Agent Framework (MAF)**.

## Project Structure

- `AIAppsModernization/` — Core modernizer agent: MCP server, tools, and agent logic
- `SemanticKernelSamples/` — Sample AI applications in Semantic Kernel and AutoGen (test inputs)
- `infrastructure/` — ARM templates, Docker, and deployment configuration
- `docs/` — Architecture diagrams and documentation
- `specs/` — Modernization specifications generated by ModernMint agents
- `plans/` — Implementation plans generated by ModernMint planner agent
- `.github/agents/` — GitHub Copilot agent definitions

## Agents

### ModernMintSpec

The `modernmint-spec` agent creates modernization specifications. Its rules:

- Analyze the workspace to identify Semantic Kernel and AutoGen patterns
- Produce a single specification at `specs/modernization-spec.md`
- Generate a quality checklist at `specs/checklists/spec-quality.md`
- Focus on **WHAT** needs to change — never prescribe **HOW**
- No implementation details: no framework names, SDKs, APIs, or code in specifications
- Every functional requirement must have testable acceptance criteria
- Success criteria must be measurable and technology-agnostic
- Maximum 3 open questions; resolve the rest with documented assumptions
- After completion, recommend using `@modernmint-planner` for the technical plan

### ModernMintPlanner

The `modernmint-planner` agent creates technical implementation plans. Its rules:

- Read the specification from `specs/modernization-spec.md` (if available)
- Analyze the workspace to build a complete technical inventory of framework patterns
- Map every detected pattern to its Microsoft Agent Framework equivalent
- Produce phased implementation plans under `plans/`
- Generate a quality checklist at `plans/checklists/plan-quality.md`
- Focus on **HOW** to modernize — concrete code transformations, dependency changes, verification steps
- Every task must include step-by-step instructions and before/after code patterns
- Tasks must be ordered so the project remains runnable after each phase
- All guidance grounded in official MAF migration guides
- After completion, recommend following the plan phases to execute implementation

## Conventions

- Python 3.10+ with async/await
- Type annotations using `Annotated` for tool parameters
- Environment configuration via `.env` and `python-dotenv`
- Azure AI Foundry for model hosting
- MCP for tool exposure

## Source Frameworks (modernize FROM)

| Framework | Key Patterns |
|-----------|-------------|
| Semantic Kernel | `Kernel`, `@kernel_function`, `ChatHistory`, `FunctionChoiceBehavior`, plugins, planners, connectors, memory |
| AutoGen | `AssistantAgent`, `UserProxyAgent`, `RoundRobinGroupChat`, `FunctionTool`, `TextMentionTermination` |

## Target Framework (modernize TO)

**Microsoft Agent Framework**: `AzureAIClient`, `create_agent()`, `WorkflowBuilder`, standard Python tool functions with `Annotated` types, thread persistence, streaming, MCP server support.

## Workflow

1. **Specify** → Use ModernMintSpec to create the modernization specification
2. **Plan** → Use ModernMintPlanner to build the technical implementation plan from the spec
3. **Implement** → Follow the plan phases in order to execute the modernization

## Testing

Sample applications in `SemanticKernelSamples/` serve as test inputs:
- `joke_agent_sk.py` — Semantic Kernel joke agent with plugins
- `joke_agent_autogen.py` — AutoGen multi-agent joke system
